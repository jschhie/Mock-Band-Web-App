{% extends 'base.html' %}

{% block title %}Unofficial BTS | Buy Tickets{% endblock %}

{% block content %}
<!-- ARENA MAP -->
<section>
    <h2 class="section-header">arena map for {{ arena }}</h2>
    <div class="section-city">
        <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16">
            <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/>
            </svg>
        </span>
        
        {% if arena == "seoul" %}
            <span><a class="arena-link" href="https://www.google.com/maps/place/Olympic+Stadium/@37.5158376,127.0702237,17z/data=!3m1!4b1!4m6!3m5!1s0x357ca450879adccd:0x7701bd84f28c7f68!8m2!3d37.5158376!4d127.0727986!16zL20vMDU3bGsz?entry=ttu" target="_blank">SEOUL, KOREA | SEOUL OLYMPIC STADIUM</a></span>
            <div>
                <span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-fill" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                    </svg>
                </span>
                <span class="venue-date">AUG 25, FRIDAY @ 8:30PM</span>
            </div>
        {% elif arena == "oakland" %}
            <span><a class="arena-link" href="https://www.google.com/maps/place/Oakland+Arena/@37.7503379,-122.2079199,17z/data=!3m1!4b1!4m6!3m5!1s0x808f85c378abe8b1:0x6497349cedd00de4!8m2!3d37.750338!4d-122.203049!16zL20vMDM4Z2xr?entry=ttu" target="_blank">OAKLAND, CA, UNITED STATES | ORACLE ARENA</a></span>
            <div>
                <span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-fill" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                    </svg>
                </span>
                <span class="venue-date">SEPT 05, TUESDAY @ 8:00PM</span>
            </div>
        {% elif arena == "la" %}
            <span><a class="arena-link" href="https://www.google.com/maps/place/Staples+Center/@34.0429909,-118.2721389,17z/data=!4m10!1m2!2m1!1sstaples+center+la!3m6!1s0x80c2c7b8f59efd39:0xf7a1121cc755e4b7!8m2!3d34.0429909!4d-118.2673753!15sChFzdGFwbGVzIGNlbnRlciBsYZIBB3N0YWRpdW3gAQA!16s%2Fg%2F11j6qbf95c?entry=ttu" target="_blank">LOS ANGELES, CA, UNITED STATES | STAPLES CENTER</a></span>
            <div>
                <span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-fill" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                    </svg>
                </span>
                <span class="venue-date">SEPT 12, TUESDAY @ 8:30PM</span>
            </div>
        {% elif arena == "chicago" %}
            <span><a class="arena-link" href="https://www.google.com/maps/place/United+Center/@41.8806908,-87.6767508,17z/data=!3m2!4b1!5s0x880e2d3ec092e747:0x65fbac35002ffbd8!4m6!3m5!1s0x880e2d3ecaa9b54f:0x9b93f0068cf00344!8m2!3d41.8806908!4d-87.6741759!16zL20vMDJuc2hz?entry=ttu" target="_blank">CHICAGO, IL, UNITED STATES | UNITED CENTER</a></span>
            <div class="venue-date">
                <span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-fill" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                    </svg>
                </span>
                <span class="venue-date">OCT 02, MONDAY @ 8:00PM</span>
            </div>
        {% endif %}
    </div>

    <div class="arena-map row">
        <!-- NOT FOR SALE: STAGE -->
        <button title="STAGE" class="shadow stage map-block map-btn btn col-md-12">
            STAGE
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stars" viewBox="0 0 16 16">
                <path d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"/>
            </svg>
        </button>
        <!-- TICKETS FOR SALE -->
        <button title="SIDE A: $195 each" class="shadow map-row map-btn btn col-sm-3" onclick="addTixToCart(this)">
            <span class="tix-type">SIDE A</span>
            <br>
            <span class="tix-price">$195.00</span> / 
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ticket-perforated" viewBox="0 0 16 16">
                    <path d="M4 4.85v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Zm-7 1.8v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Zm-7 1.8v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Zm-7 1.8v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Z"/>
                    <path d="M1.5 3A1.5 1.5 0 0 0 0 4.5V6a.5.5 0 0 0 .5.5 1.5 1.5 0 1 1 0 3 .5.5 0 0 0-.5.5v1.5A1.5 1.5 0 0 0 1.5 13h13a1.5 1.5 0 0 0 1.5-1.5V10a.5.5 0 0 0-.5-.5 1.5 1.5 0 0 1 0-3A.5.5 0 0 0 16 6V4.5A1.5 1.5 0 0 0 14.5 3h-13ZM1 4.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v1.05a2.5 2.5 0 0 0 0 4.9v1.05a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-1.05a2.5 2.5 0 0 0 0-4.9V4.5Z"/>
                </svg>
            </span>
        </button>
        
        <button title="FRONT ROW: $350 each" class="shadow map-row map-btn btn col-sm-5" onclick="addTixToCart(this)">
            <span class="tix-type">FRONT ROW</span>
            <br>
            <span class="tix-price">$350.00</span> / 
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ticket-detailed-fill" viewBox="0 0 16 16">
                    <path d="M0 4.5A1.5 1.5 0 0 1 1.5 3h13A1.5 1.5 0 0 1 16 4.5V6a.5.5 0 0 1-.5.5 1.5 1.5 0 0 0 0 3 .5.5 0 0 1 .5.5v1.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 11.5V10a.5.5 0 0 1 .5-.5 1.5 1.5 0 1 0 0-3A.5.5 0 0 1 0 6V4.5Zm4 1a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5Zm0 5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5ZM4 8a1 1 0 0 0 1 1h6a1 1 0 1 0 0-2H5a1 1 0 0 0-1 1Z"/>
                </svg>
            </span>
        </button>

        <button title="SIDE B: $195 each" class="shadow map-row map-btn btn col-sm-3" onclick="addTixToCart(this)">
            <span class="tix-type">SIDE B</span>
            <br>
            <span class="tix-price">$195.00</span> / 
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ticket-perforated" viewBox="0 0 16 16">
                    <path d="M4 4.85v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Zm-7 1.8v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Zm-7 1.8v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Zm-7 1.8v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Z"/>
                    <path d="M1.5 3A1.5 1.5 0 0 0 0 4.5V6a.5.5 0 0 0 .5.5 1.5 1.5 0 1 1 0 3 .5.5 0 0 0-.5.5v1.5A1.5 1.5 0 0 0 1.5 13h13a1.5 1.5 0 0 0 1.5-1.5V10a.5.5 0 0 0-.5-.5 1.5 1.5 0 0 1 0-3A.5.5 0 0 0 16 6V4.5A1.5 1.5 0 0 0 14.5 3h-13ZM1 4.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v1.05a2.5 2.5 0 0 0 0 4.9v1.05a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-1.05a2.5 2.5 0 0 0 0-4.9V4.5Z"/>
                </svg>
            </span>
        </button>
        
        <button title="GENERAL ADMISSION: $85 each" class="shadow general-row map-block map-btn btn col-md-12" onclick="addTixToCart(this)">
            <span class="tix-type">GENERAL ADMISSION</span>
            <br>
            <span class="tix-price">$85.00</span> / 
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ticket" viewBox="0 0 16 16">
                    <path d="M0 4.5A1.5 1.5 0 0 1 1.5 3h13A1.5 1.5 0 0 1 16 4.5V6a.5.5 0 0 1-.5.5 1.5 1.5 0 0 0 0 3 .5.5 0 0 1 .5.5v1.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 11.5V10a.5.5 0 0 1 .5-.5 1.5 1.5 0 1 0 0-3A.5.5 0 0 1 0 6V4.5ZM1.5 4a.5.5 0 0 0-.5.5v1.05a2.5 2.5 0 0 1 0 4.9v1.05a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-1.05a2.5 2.5 0 0 1 0-4.9V4.5a.5.5 0 0 0-.5-.5h-13Z"/>
                </svg>
            </span>
        </button>
    </div>    
</section>

<br>

<!-- SHOPPING CART OFFCANVAS -->
<div class="center-btn">
    <button title="View Cart" class="btn view-cart-btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight" onclick="updateCartTotal()">
        VIEW CART 
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
        </svg>
        <span class="badge rounded-pill text-bg-dark cart-notif">0</span>
    </button>
    </div>

    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">

    <div class="offcanvas-header">
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>

    <div class="offcanvas-body">
        <!-- TICKETS CART -->
        <form method="POST">
            <section>
                <h2 class="section-header">
                    ticket cart
                </h2>
                <!-- CART HEADER ROW -->
                <div class="cart-row">
                    <span class="cart-item cart-header cart-type-header cart-column">TICKET TYPE</span>
                    <span class="cart-price cart-header cart-column">PRICE</span>
                    <span class="cart-amount cart-header cart-column">QUANTITY</span>
                </div>
                
                <!-- EMPTY CART TEXT -->
                <div id="empty-tix-text">
                    Your cart is currently empty.
                    <br>
                    Continue browsing <button class="button arena-link"  data-bs-dismiss="offcanvas" style="font-family:'Syne', 'Times';">here</button>
                </div>

                <!-- ALL CART ITEMS -->
                <div class="cart-items-all">
                    <!-- Ticket Cart inserted interactively here -->
                </div>
                
                <!-- CHECKOUT -->
                <div class="cart-total">
                    <span class="cart-total-label">TOTAL</span>
                    <span id="tix-total-price" class="cart-total-price">$0.00</span>
                </div>
                <div class="submit-cart" id="checkout-tix-btn">
                    <button type="button" class="icon-link icon-link-hover purchase-btn btn" onclick="startCheckout(this, 'tickets')">
                        CHECKOUT
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                        </svg>
                    </button>
                </div>
            </section>
        </form>
    </div>
</div>

<br>

<script>
    // function call when page loads 
    toggleEmptyCart("tix-total-price", "empty-tix-text", "checkout-tix-btn");
</script>

{% endblock %}